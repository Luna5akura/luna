---
title: Stochastic Operation - Assignment - Week 5
category: Assignments 
---

# 4

## Problem

一个由 2 个服务台组成的开放式排队网络，每小时平均有 10 位顺客从外部到达服务台 1,15 位顺客从外部到达服务台 2 ，到达时间间隔均服从指数分布。服务台 1 以每小时 20 位的速率提供服务，服务台 2 则以每小时 25 位的速率提供服务。在服务台 1 服务完的顾客中，有一半的顺客离开该网络，另外一半的顺客则到达服务台 2 。在服务台 2 服务完的顺客中，有 $ 2 / 3 $ 的顺客完成服务离开网络，而其余顺客则返回服务台 1 。
（a）服务台 1 和 2 空闲的概率各是多少？
（b）各服务台处的平均臥长是多少？
（c）顾客在网络中的平均遈留时间有多长？每位顾客平均在网络中需要服务多少次（在服务台 1 或 2 处的每次服务算1次）？

## Solution (a)

首先求解到达率：

$ \begin{aligned} \lambda_{1} & =\gamma_{1}+\frac{1}{3} \lambda_{2}=10+\frac{1}{3} \lambda_{2} \\ \lambda_{2} & =\gamma_{2}+0.5 \lambda_{1}=15+0.5 \lambda_{1}\end{aligned} $

有：

$\lambda_1 = 18, \lambda_2 = 24$

因此：

$ \rho_{1}=\frac{\lambda_{1}}{\mu_{1}}=\frac{18}{20}=0.9, \quad \rho_{2}=\frac{\lambda_{2}}{\mu_{2}}=\frac{24}{25}=0.96 $

可得空闲率：

服务台 1：$ P_{0}^{(1)}=1-0.9=0.1 $
服务台 2：$ P_{0}^{(2)}=1-0.96=0.04 $

## Solution (b)

服务台 1：$ L_{1}=\frac{0.9}{0.1}=9 $
服务台 $ 2: L_{2}=\frac{0.96}{0.04}=24 $

## Solution (c)

由 Little 定律，平均逗留时间 $ W=\frac{L}{\Lambda}=\frac{33}{25} $ 小时。

平均服务次数 $ =\frac{\lambda_{1}}{\Lambda}+\frac{\lambda_{2}}{\Lambda}=\frac{18}{25}+\frac{24}{25}=\frac{42}{25} $

# 1

## Problem

请给排队现象下个定义（一句话，应包括其核心特征）。

## Solution

排队现象在一个包含随机到达的顾客和一个或多个服务台的系统中，由于服务需求超过服务能力，导致顾客需要等待服务的过程。

# 2

## Problem

请总结第2、3章：核心的概念有哪些？互相之间有何关系？

## Solution

**第2章：排队论**

*   **核心概念：** 研究系统中的等待和服务现象。
    *   **组成要素：** 顾客源、到达过程、排队过程、服务过程、服务机构、离去过程。
    *   **描述方法：** Kendall记号 (A/B/C/D/E)，例如M/M/1。
    *   **性能指标：** 队长(Lq)、系统内顾客数(Ls)、等待时间(Wq)、系统逗留时间(Ws)、利用率(ρ)等。
    *   **关键公式：** Little公式 (L = λW)，连接平均顾客数、到达率和平均逗留时间。
    *   **主要模型：** M/M/1、M/M/K、M/G/1等。
    *   **目的：** 通过分析和优化，平衡等待成本与服务成本。

**第3章：排队网络**

*   **核心概念：** 多个相互连接的排队系统组成的网络。
    *   **分类：**
        *   **封闭网络：** 总顾客数固定，在网络中循环。
        *   **开放网络：** 有外部到达和离开。
        *   **混合网络：** 结合前两者特点。

**互相关系：**

*   **排队论是基础：** 排队网络的每个节点都是一个排队系统。
*   **排队网络是扩展：** 将单个排队论应用于更复杂、相互关联的流程。
*   **连接性：** 一个节点的产出是另一个节点的输入，性能相互影响。
*   **Little公式通用：** 适用于排队网络的每个节点及整体。

**一句话总结：** 排队论分析单一等待服务点，排队网络分析由多个此类服务点互联组成的复杂流程，Little公式是它们之间的关键桥梁。 

# 3

## Problem

观察社会：寻找一个本课程（含教材）中没讨论过的排队问题，写出其各组
成，并尝试分析之。

## Solution 

### 共享单车的调度和维护排队问题

尽管用户取用单车是典型的排队（用户排队等待可用单车），但这里我们关注的是**运营方**在调度和维护单车时遇到的排队问题。

#### 1. 排队系统的组成

*   **顾客源 (Customer Source)：** 需要被调度或维护的共享单车。
    *   **无限源：** 从运营方的角度看，城市中有成千上万辆单车，每天都会产生大量的调度和维护需求，可近似看作无限源。
    *   **类型：**
        *   **调度需求：** 特定区域单车过多或过少（如早高峰地铁站单车堆积，晚高峰居民区单车不足）。
        *   **维护需求：** 损坏、故障、电池没电、非法停放等需要维修或回收的单车。

*   **到达过程 (Arrival Process)：** 调度和维护需求的产生过程。
    *   **不规则到达：** 调度需求通常与潮汐人流有关（早晚高峰），但具体区域和强度是动态变化的。维护需求则更是随机的，可能由用户报告、巡检发现或传感器数据触发。
    *   **近似泊松到达：** 在某个时间段内，如果将所有零散的需求聚合起来，可以近似为泊松到达，但参数会随时间（小时、日期）和地点（区域）动态变化。

*   **排队过程 (Queueing Process)：** 待调度或待维护的单车集合。
    *   **排队规则：**
        *   **优先级：** 紧急情况（如道路堵塞、严重损坏）可能优先处理。高需求区域的调度可能也优先于低需求区域。
        *   **地理集中：** 为了效率，调度/维修团队可能会优先处理地理位置相近的多个任务。
        *   **先到先服务 (FIFO)：** 对于同等优先级任务，一般按报告或识别时间顺序处理。
    *   **排队容量：** 运营方的待处理任务清单，通常是无限的，但实际作业能力有限。

*   **服务机构 (Service Facility)：** 运营方的调度和维护团队（及车辆）。
    *   **服务台数量 (K)：** 调度车辆、维修人员、电池更换团队的数量。这是一个多服务台系统。
    *   **专业分工：** 调度车辆可能只负责运送单车，维修团队负责维修，电池团队负责更换电池，这相当于有不同类型的“服务台”。

*   **服务过程 (Service Process)：** 完成单车调度或维护任务所需的时间。
    *   **复杂服务时间：** 服务时间分布可能很复杂。
        *   **调度：** 取决于两点之间的距离、交通状况、每次搬运的单车数量。
        *   **维修：** 取决于故障类型、维修难度、零部件供应。
        *   **电池更换：** 相对固定，但需要充电和运输时间。
    *   **近似指数分布：** 虽然实际情况复杂，但在宏观分析时，有时会为了简化模型而假设服务时间服从指数分布，或者使用一般分布(G)。

*   **离去过程 (Departure Process)：** 完成调度或维护任务的单车（或被处理的需求）离开待处理队列。

#### 2. 尝试分析

这可以被视为一个复杂的 **多服务台、多优先级、动态到达、动态服务时间、可能具有有限源（对某个特定区域而言）** 的排队系统。

*   **Kendall记号：** G/G/K（或M/G/K），其中K代表调度/维修团队的数量，D和E参数可能因为复杂性而省略或动态变化。G代表通用分布，反映了到达和服务时间的复杂性。

*   **主要挑战：**
    1.  **动态性：** 需求模式（时间和地点）是高度动态变化的。简单假设稳态系统会失真。
    2.  **多任务类型：** 调度和维修是不同类型的任务，可能需要不同的资源和技能。
    3.  **效率与成本：** 运营方需要在投入人力、车辆与满足需求、提高用户满意度之间找到平衡点。

*   **分析思路：**

    1.  **数据驱动：** 收集大量的历史数据，包括：
        *   不同时间段、不同区域的调度需求量。
        *   不同类型故障的发生频率和维修时间。
        *   现有团队的工作效率。
        *   单车使用率数据（反映哪些区域需求旺盛）。

    2.  **模拟仿真 (Simulation)：** 这是分析这种复杂动态系统最有效的方法之一。
        *   可以建立一个仿真模型，模拟单车需求的产生、排队、团队调度、服务完成的过程。
        *   通过调整团队数量、调度策略、优先级规则等参数，观察系统性能指标（如平均等待时间、任务完成率、服务机构利用率）。

    3.  **性能指标：**
        *   **调度完成率：** 在规定时间内完成调度任务的比例。
        *   **维护及时率：** 故障单车从报告到修复的平均时间。
        *   **单车可用率：** 确保高需求区域有足够单车可用的比例。
        *   **团队利用率：** 调度/维修团队的工作饱和度。
        *   **平均排队任务数：** 待处理的调度或维修任务的平均数量。

    4.  **优化目标：**
        *   最小化平均任务完成时间。
        *   最大化单车在合适地点的可用性。
        *   最小化运营成本（团队人力、车辆、燃料）。
        *   最小化用户因找不到车或遇到坏车而产生的抱怨。

    5.  **可能的策略：**
        *   **基于预测的调度：** 利用历史数据和AI预测高峰期和低谷期的单车需求，提前进行调度。
        *   **动态优先级：** 根据区域重要性、任务紧急程度动态调整优先级。
        *   **团队区域化：** 将调度/维修团队分配到特定区域，减少空跑距离，提高效率。
        *   **众包模式：** 鼓励用户参与简单维护（如报告故障），或对轻度调度（如将单车移到指定停车区）给予奖励。

这个共享单车的调度和维护排队问题非常贴近实际，它结合了离散事件系统、运营管理和数据科学等多个领域的知识，是排队论在现代城市服务中的一个典型但又充满挑战的应用。

# 4

## Problem 

出一个考试题。

## Solution

### 排队论与共享单车运营优化

某共享单车公司在一个城市运营，每天面临大量的单车调度（将单车从过剩区域运到需求区域）和维护（维修故障、更换电池、回收违停）任务。为了提高运营效率和用户满意度，公司希望利用排队论对这些任务进行分析和优化。

假设该公司有20辆调度/维修车辆，每辆车配备1名员工，可以在全市范围内执行调度或维修任务。每天从早上6点到晚上10点，公司会持续接收到新的任务。

**问题描述：**

1.  **任务到达：** 调度和维护任务的到达被发现具有一定的随机性，平均每小时有10个任务到达系统。
2.  **任务处理：** 每辆调度/维修车辆处理一个任务的平均时间为1小时，但具体时间会有所波动。
3.  **优先级：** 公司对任务进行了优先级划分：
    *   **高优先级（H）：** 紧急调度（如地铁口单车堆积影响交通）、严重故障（如刹车失灵）。约占所有任务的30%。
    *   **中优先级（M）：** 一般调度（如区域供需不平衡）、一般故障（如车胎漏气）、电池电量低于20%。约占所有任务的50%。
    *   **低优先级（L）：** 回收长期闲置单车、轻微外观损坏。约占所有任务的20%。
    *   处理规则：高优先级任务优先于中优先级，中优先级任务优先于低优先级。同优先级任务按先到先服务（FIFO）处理。

**请根据上述情景，回答以下问题：**

**问题一 (25分):**
请为上述共享单车调度和维护系统建立一个简化排队模型。
1.  写出该排队系统各组成部分的描述（顾客源、到达过程、排队过程、服务机构、服务过程、离去过程）。
2.  尝试使用Kendall记号描述这个系统，并说明你的选择理由（如果无法完全匹配，请说明其局限性）。

**问题二 (25分):**
为了初步评估系统性能，假设所有任务不分优先级，且任务到达和服务时间都服从指数分布。
1.  计算该系统的服务机构利用率（ρ）。
2.  计算系统中的平均任务数（Ls）和平均等待任务数（Lq）。
3.  计算一个任务在系统中（等待加服务）的平均逗留时间（Ws）和平均等待服务时间（Wq）。
    *   *提示：这可以近似看作一个M/M/K系统，K为服务台数量。*

**问题三 (25分):**
考虑优先级规则对系统性能的影响。
1.  请定性分析引入高、中、低优先级规则后，与问题二中无优先级系统相比，不同优先级任务的平均等待时间（Wq）和系统逗留时间（Ws）会如何变化？（不需要具体计算，只需说明趋势和原因）。
2.  假设公司决定增加3辆调度/维修车辆（总数变为23辆）。请定性分析这一改变对高优先级任务的平均等待时间（Wq_H）和整体服务机构利用率（ρ）可能产生的影响。

**问题四 (25分):**
假设你是该公司运营经理，发现系统在高优先级任务处理方面存在瓶颈。除了简单增加车辆外，请提出至少三种其他可能的优化策略，并简要说明其原理和预期效果。（提示：可以从排队系统的各个组成部分着手思考，不局限于单一模型）。


